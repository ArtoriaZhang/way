<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Orca in The Sea</title>
    <meta name="description" content="Way to Science Universe">
    <meta name="generator" content="VitePress v1.0.0-rc.45">
    <link rel="preload stylesheet" href="/assets/style.RgE07GsK.css" as="style">
    
    <script type="module" src="/assets/app.DPiXWzR8.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.CCoplHXX.js">
    <link rel="modulepreload" href="/assets/chunks/theme.CmMMZkKj.js">
    <link rel="modulepreload" href="/assets/docs_database_mariadb_setupReplication.md.C3MaFEiW.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar has-sidebar" data-v-7ad780c2 data-v-3efcd581><div class="wrapper" data-v-3efcd581><div class="container" data-v-3efcd581><div class="title" data-v-3efcd581><div class="VPNavBarTitle has-sidebar" data-v-3efcd581 data-v-0ad69264><a class="title" href="/" data-v-0ad69264><!--[--><!--]--><!----><span data-v-0ad69264>Orca in The Sea</span><!--[--><!--]--></a></div></div><div class="content" data-v-3efcd581><div class="content-body" data-v-3efcd581><!--[--><!--]--><div class="VPNavBarSearch search" data-v-3efcd581><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-3efcd581 data-v-f732b5d0><span id="main-nav-aria-label" class="visually-hidden" data-v-f732b5d0>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/index.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/index-custom.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Docs</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-3efcd581 data-v-283b26e9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-283b26e9 data-v-7df97737 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-7df97737></span><span class="vpi-moon moon" data-v-7df97737></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-3efcd581 data-v-8e87c032 data-v-af5898d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-af5898d3><span class="vpi-more-horizontal icon" data-v-af5898d3></span></button><div class="menu" data-v-af5898d3><div class="VPMenu" data-v-af5898d3 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-8e87c032><div class="item appearance" data-v-8e87c032><p class="label" data-v-8e87c032>Appearance</p><div class="appearance-action" data-v-8e87c032><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-8e87c032 data-v-7df97737 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-7df97737></span><span class="vpi-moon moon" data-v-7df97737></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-3efcd581 data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-3efcd581><div class="divider-line" data-v-3efcd581></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-0b5c97a1><button data-v-0b5c97a1>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-4871f9f5><div class="curtain" data-v-4871f9f5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-4871f9f5><span class="visually-hidden" id="sidebar-aria-label" data-v-4871f9f5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0 is-link has-active" data-v-4871f9f5 data-v-12a5e56c><div class="item" tabindex="0" data-v-12a5e56c><div class="indicator" data-v-12a5e56c></div><a class="VPLink link link" href="/docs/database/" data-v-12a5e56c><!--[--><h2 class="text" data-v-12a5e56c>database</h2><!--]--></a><!----></div><div class="items" data-v-12a5e56c><!--[--><section class="VPSidebarItem level-1 is-link has-active" data-v-12a5e56c data-v-12a5e56c><div class="item" tabindex="0" data-v-12a5e56c><div class="indicator" data-v-12a5e56c></div><a class="VPLink link link" href="/docs/database/mariadb/" data-v-12a5e56c><!--[--><h3 class="text" data-v-12a5e56c>mariadb</h3><!--]--></a><!----></div><div class="items" data-v-12a5e56c><!--[--><div class="VPSidebarItem level-2 is-link" data-v-12a5e56c data-v-12a5e56c><div class="item" data-v-12a5e56c><div class="indicator" data-v-12a5e56c></div><a class="VPLink link link" href="/docs/database/mariadb/Grant.html" data-v-12a5e56c><!--[--><p class="text" data-v-12a5e56c>Grant.md</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-12a5e56c data-v-12a5e56c><div class="item" data-v-12a5e56c><div class="indicator" data-v-12a5e56c></div><a class="VPLink link link" href="/docs/database/mariadb/Options.html" data-v-12a5e56c><!--[--><p class="text" data-v-12a5e56c>Options.md</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-12a5e56c data-v-12a5e56c><div class="item" data-v-12a5e56c><div class="indicator" data-v-12a5e56c></div><a class="VPLink link link" href="/docs/database/mariadb/setupReplication.html" data-v-12a5e56c><!--[--><p class="text" data-v-12a5e56c>setupReplication.md</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-12a5e56c data-v-12a5e56c><div class="item" tabindex="0" data-v-12a5e56c><div class="indicator" data-v-12a5e56c></div><a class="VPLink link link" href="/docs/database/oracle/" data-v-12a5e56c><!--[--><h3 class="text" data-v-12a5e56c>oracle</h3><!--]--></a><!----></div><div class="items" data-v-12a5e56c><!--[--><div class="VPSidebarItem level-2 is-link" data-v-12a5e56c data-v-12a5e56c><div class="item" data-v-12a5e56c><div class="indicator" data-v-12a5e56c></div><a class="VPLink link link" href="/docs/database/oracle/Isolation.html" data-v-12a5e56c><!--[--><p class="text" data-v-12a5e56c>Isolation.md</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-12a5e56c data-v-12a5e56c><div class="item" data-v-12a5e56c><div class="indicator" data-v-12a5e56c></div><a class="VPLink link link" href="/docs/database/oracle/Pipelined.html" data-v-12a5e56c><!--[--><p class="text" data-v-12a5e56c>Pipelined.md</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-12a5e56c data-v-12a5e56c><div class="item" data-v-12a5e56c><div class="indicator" data-v-12a5e56c></div><a class="VPLink link link" href="/docs/database/oracle/Tuning.html" data-v-12a5e56c><!--[--><p class="text" data-v-12a5e56c>Tuning.md</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-12a5e56c data-v-12a5e56c><div class="item" data-v-12a5e56c><div class="indicator" data-v-12a5e56c></div><a class="VPLink link link" href="/docs/database/oracle/createUser.html" data-v-12a5e56c><!--[--><p class="text" data-v-12a5e56c>createUser.md</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-12a5e56c data-v-12a5e56c><div class="item" tabindex="0" data-v-12a5e56c><div class="indicator" data-v-12a5e56c></div><a class="VPLink link link" href="/docs/database/postgresql/" data-v-12a5e56c><!--[--><h3 class="text" data-v-12a5e56c>postgresql</h3><!--]--></a><!----></div><div class="items" data-v-12a5e56c><!--[--><div class="VPSidebarItem level-2 is-link" data-v-12a5e56c data-v-12a5e56c><div class="item" data-v-12a5e56c><div class="indicator" data-v-12a5e56c></div><a class="VPLink link link" href="/docs/database/postgresql/PLSql_block.html" data-v-12a5e56c><!--[--><p class="text" data-v-12a5e56c>PLSql_block.md</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-12a5e56c data-v-12a5e56c><div class="item" tabindex="0" data-v-12a5e56c><div class="indicator" data-v-12a5e56c></div><a class="VPLink link link" href="/docs/database/redis/" data-v-12a5e56c><!--[--><h3 class="text" data-v-12a5e56c>redis</h3><!--]--></a><!----></div><div class="items" data-v-12a5e56c><!--[--><div class="VPSidebarItem level-2 is-link" data-v-12a5e56c data-v-12a5e56c><div class="item" data-v-12a5e56c><div class="indicator" data-v-12a5e56c></div><a class="VPLink link link" href="/docs/database/redis/Cluster.html" data-v-12a5e56c><!--[--><p class="text" data-v-12a5e56c>Cluster.md</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-cb998dce data-v-6b52fe58><div class="content" data-v-6b52fe58><div class="outline-marker" data-v-6b52fe58></div><div class="outline-title" role="heading" aria-level="2" data-v-6b52fe58>Navigator</div><nav aria-labelledby="doc-outline-aria-label" data-v-6b52fe58><span class="visually-hidden" id="doc-outline-aria-label" data-v-6b52fe58> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-6b52fe58 data-v-53c99d69><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _docs_database_mariadb_setupReplication" data-v-e6f2a212><div><h2 id="setup-replication" tabindex="-1">Setup replication <a class="header-anchor" href="#setup-replication" aria-label="Permalink to &quot;Setup replication&quot;">​</a></h2><ol><li><p>Active <strong>the binary log</strong> and <a href="#binary-log-format">binary log formats</a> To enable binary logging, start the server with the --log-bin[=name] option</p></li><li><p>Config binary log The format for binary log events can be configured by setting the binlog_format system variable. If you have the SUPER privilege, then you can change it dynamically with SET GLOBAL. For example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>SET GLOBAL binlog_format=&#39;ROW&#39;;</span></span></code></pre></div><p>You can also change it dynamically for just a specific session with SET SESSION. For example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>SET SESSION binlog_format=&#39;ROW&#39;;</span></span></code></pre></div><p>It can also be set in a server option group in an option file prior to starting up the server. For example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>[mariadb]</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>binlog_format=ROW</span></span></code></pre></div></li><li><p>Give the master a unique <strong>server_id</strong>. All slaves must also be given a server_id. This can be a number from 1 to 232-1, and must be unique for each server in the replicating group.</p></li><li><p>Specify a unique name for your replication logs with --log-basename. If this is not specified your host name will be used and there will be problems if the hostname ever changes.</p></li><li><p>Slaves will need permission to connect and start replicating from a server. Usually this is done by creating a dedicated slave user, and granting that user permission only to replicate (REPLICATION SLAVE permission).</p></li></ol><h2 id="example-enabling-replication-for-mariadb" tabindex="-1">Example Enabling Replication for MariaDB <a class="header-anchor" href="#example-enabling-replication-for-mariadb" aria-label="Permalink to &quot;Example Enabling Replication for MariaDB&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>[mariadb]</span></span>
<span class="line"><span>log-bin</span></span>
<span class="line"><span>server_id=1</span></span>
<span class="line"><span>log-basename=master1</span></span>
<span class="line"><span>binlog-format=mixed</span></span>
<span class="line"><span></span></span>
<span class="line"><span>CREATE USER &#39;replication_user&#39;@&#39;%&#39; IDENTIFIED BY &#39;bigs3cret&#39;;</span></span>
<span class="line"><span>GRANT REPLICATION SLAVE ON *.* TO &#39;replication_user&#39;@&#39;%&#39;;</span></span></code></pre></div><h2 id="configuring-the-replica" tabindex="-1">Configuring the Replica <a class="header-anchor" href="#configuring-the-replica" aria-label="Permalink to &quot;Configuring the Replica&quot;">​</a></h2><p>Give the slave a unique server_id. All servers, whether masters or replicas, are given a server_id. This can be a number from 1 to 232-1, and must be unique for each server in the replicating group. The server will need to be restarted in order for a change in this option to take effect.</p><h2 id="getting-the-master-s-binary-log-co-ordinates" tabindex="-1">Getting the Master&#39;s Binary Log Co-ordinates <a class="header-anchor" href="#getting-the-master-s-binary-log-co-ordinates" aria-label="Permalink to &quot;Getting the Master&#39;s Binary Log Co-ordinates&quot;">​</a></h2><p>Now you need prevent any changes to the data while you view the binary log position. You&#39;ll use this to tell the slave at exactly which point it should start replicating from.</p><p>On the master, flush and lock all tables by running</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>FLUSH TABLES WITH READ LOCK.</span></span></code></pre></div><p>Keep this session running - exiting it will release the lock. Get the current position in the binary log by running</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-ogJVA" id="tab-wgTZvn0" checked="checked"><label for="tab-wgTZvn0">mariadb</label><input type="radio" name="group-ogJVA" id="tab-2H9Ylc2"><label for="tab-2H9Ylc2">mysql</label></div><div class="blocks"><div class="language-shell vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SHOW</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MASTER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> STATUS:</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> binary</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div></div></div><table><thead><tr><th>File</th><th>Position</th><th>Binlog_Do_DB</th><th>Binlog_Ignore_DB</th></tr></thead><tbody><tr><td>master1-bin.000096</td><td>568</td><td></td><td></td></tr></tbody></table><ul><li>Record the File and Position details. If binary logging has just been enabled, these will be blank.</li><li>Now, with the lock still in place, copy the data from the master to the slave. See Backup, Restore and Import for details on how to do this.</li><li>Note for live databases: You just need to make a local copy of the data, you don&#39;t need to keep the master locked until the slave has imported the data.</li><li>Once the data has been copied, you can release the lock on the master by running UNLOCK TABLES.</li></ul><h2 id="start-the-slave" tabindex="-1">Start the Slave <a class="header-anchor" href="#start-the-slave" aria-label="Permalink to &quot;Start the Slave&quot;">​</a></h2><p>Once the data has been imported, you are ready to start replicating. Begin by running a CHANGE MASTER TO, making sure that MASTER_LOG_FILE matches the file and MASTER_LOG_POS the position returned by the earlier SHOW MASTER STATUS. For example:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-v6Ke3" id="tab--5uITt1" checked="checked"><label for="tab--5uITt1">mariadb</label><input type="radio" name="group-v6Ke3" id="tab-4TqdPFX"><label for="tab-4TqdPFX">mysql</label></div><div class="blocks"><div class="language-shell vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CHANGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MASTER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> TO</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  MASTER_HOST</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;master.domain.com&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  MASTER_USER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;replication_user&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  MASTER_PASSWORD</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bigs3cret&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  MASTER_PORT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3306</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  MASTER_LOG_FILE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;master1-bin.000096&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  MASTER_LOG_POS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">568</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  MASTER_CONNECT_RETRY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CHANGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> REPLICATION</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SOURCE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> TO</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         SOURCE_HOST</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;source_host_name&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         SOURCE_USER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;replication_user_name&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         SOURCE_PASSWORD</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;replication_password&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         SOURCE_LOG_FILE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;recorded_log_file_name&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         SOURCE_LOG_POS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">recorded_log_position,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    GET_source_PUBLIC_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div></div></div><h2 id="use-global-transaction-id-gtid" tabindex="-1">Use Global Transaction Id (GTID) <a class="header-anchor" href="#use-global-transaction-id-gtid" aria-label="Permalink to &quot;Use Global Transaction Id (GTID)&quot;">​</a></h2><p>All that is needed is to add the MASTER_USE_GTID option to the CHANGE MASTER statement, for example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>CHANGE MASTER TO MASTER_USE_GTID = slave_pos</span></span></code></pre></div><p>See Global Transaction ID for a full description.</p><p>Now start the slave with the START SLAVE command:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-pxBWN" id="tab-cr1lWdt" checked="checked"><label for="tab-cr1lWdt">mariadb</label><input type="radio" name="group-pxBWN" id="tab-Q3zGgwn"><label for="tab-Q3zGgwn">mysql</label></div><div class="blocks"><div class="language-shell vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">START</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SLAVE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> replica</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div></div></div><p>Check that the replication is working by executing the SHOW SLAVE STATUS command:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-rjZkk" id="tab-lF_Q3ES" checked="checked"><label for="tab-lF_Q3ES">mariadb</label><input type="radio" name="group-rjZkk" id="tab-JDw0ES4"><label for="tab-JDw0ES4">mysql</label></div><div class="blocks"><div class="language-shell vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SHOW</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SLAVE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> STATUS</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \G</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> replica</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div></div></div><h3 id="binary-log-format" tabindex="-1">binary log format <a class="header-anchor" href="#binary-log-format" aria-label="Permalink to &quot;binary log format&quot;">​</a></h3><ul><li><p>Statement-Based Logging: When statement-based logging is enabled, statements are logged to the binary log exactly as they were executed. Temporary tables created on the primary will also be created on the replica.</p></li><li><p>Mixed Logging: When mixed logging is enabled, the server uses a combination of statement-based logging and row-based logging. Statement-based logging is used where possible, but when the server determines a statement may not be safe for statement-based logging, it will use row-based logging instead.</p></li><li><p>Row-Based Logging: When row-based logging is enabled, DML statements are not logged to the binary log. Instead, each insert, update, or delete performed by the statement for each row is logged to the binary log separately. DDL statements are still logged to the binary log. Row-based logging uses <strong>more storage</strong> than the other log formats but is <strong>the safest</strong> to use. In practice mixed logging should be as safe.</p></li></ul></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-b77f9094><!--[--><!--]--><!----><nav class="prev-next" data-v-b77f9094><div class="pager" data-v-b77f9094><a class="VPLink link pager-link prev" href="/docs/database/mariadb/Options.html" data-v-b77f9094><!--[--><span class="desc" data-v-b77f9094>Previous page</span><span class="title" data-v-b77f9094>Options.md</span><!--]--></a></div><div class="pager" data-v-b77f9094><a class="VPLink link pager-link next" href="/docs/database/oracle/" data-v-b77f9094><!--[--><span class="desc" data-v-b77f9094>Next page</span><span class="title" data-v-b77f9094>oracle</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"docs_android_adb.md\":\"DfGWyMRy\",\"docs_database_index.md\":\"BD2FSDyE\",\"docs_database_oracle_isolation.md\":\"BMLfABTX\",\"docs_database_oracle_pipelined.md\":\"BnpTE4NC\",\"docs_database_oracle_tuning.md\":\"CtfQ-8qW\",\"docs_database_oracle_createuser.md\":\"COVpe0II\",\"docs_database_oracle_index.md\":\"DXWAMm9S\",\"docs_database_postgresql_index.md\":\"CSwpA1Dp\",\"docs_golang_index.md\":\"DHwn-Xh5\",\"docs_docker_dockerfile.md\":\"DIVk0RPJ\",\"docs_docker_index.md\":\"DxqlxGIL\",\"docs_english_index.md\":\"DPhx0BOf\",\"docs_database_postgresql_plsql_block.md\":\"DBLzAN5i\",\"docs_api-examples.md\":\"D4FNzj3L\",\"docs_index-custom.md\":\"pi-GpR_S\",\"docs_database_mariadb_setupreplication.md\":\"C3MaFEiW\",\"docs_database_mariadb_index.md\":\"DpYZ3CPh\",\"docs_database_redis_cluster.md\":\"d2-M3QCN\",\"docs_database_mariadb_grant.md\":\"DV1wQ9Xy\",\"docs_english_weather_weather.md\":\"CfnNqaE7\",\"docs_middleware_index.md\":\"m_m5-9Um\",\"docs_java_lang_index.md\":\"C8TOomQ_\",\"docs_linux_nginx_config.md\":\"jbCDqdEc\",\"docs_linux_nginx_index.md\":\"t6fy4CcM\",\"docs_linux_shell_deviceopt.md\":\"DLe6JqpR\",\"docs_linux_shell_index.md\":\"BWX3e-79\",\"docs_linux_shell_script.md\":\"Q1RS5yDd\",\"docs_linux_shell_stringopt.md\":\"Cv1BN1Ko\",\"docs_markdown-examples.md\":\"CVeFvvAd\",\"docs_middleware_kafka_ctl.md\":\"BHq7zgof\",\"docs_database_mariadb_options.md\":\"BO6zkcNZ\",\"docs_middleware_kafka_index.md\":\"CrakeGP5\",\"docs_android_index.md\":\"P7_JWtIN\",\"docs_index.md\":\"CmZAgh8u\",\"docs_java_index.md\":\"By-OMN38\",\"docs_java_lang_floatprecisionloss.md\":\"CMOxL9-h\",\"docs_middleware_kafka_overview.md\":\"BsEtcJKz\",\"docs_node_index.md\":\"4KA2H-Sb\",\"docs_english_weather_index.md\":\"BAP34Trd\",\"docs_golang_grammar.md\":\"DSi908jE\",\"docs_node_vite_index.md\":\"aI8pIi8O\",\"docs_linux_index.md\":\"Dh5ljrp7\",\"docs_node_vite_viteproject.md\":\"GIB94cqA\",\"docs_linux_createswap.md\":\"1nFciMYQ\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Orca in The Sea\",\"description\":\"Way to Science Universe\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/docs/index\"},{\"text\":\"Docs\",\"link\":\"/docs/index-custom\"}],\"outline\":{\"label\":\"Navigator\"},\"sidebar\":{\"/\":[{\"text\":\"android\",\"link\":\"/docs/android/\"},{\"text\":\"database\",\"link\":\"/docs/database/\"},{\"text\":\"docker\",\"link\":\"/docs/docker/\"},{\"text\":\"english\",\"link\":\"/docs/english/\"},{\"text\":\"golang\",\"link\":\"/docs/golang/\"},{\"text\":\"java\",\"link\":\"/docs/java/\"},{\"text\":\"linux\",\"link\":\"/docs/linux/\"},{\"text\":\"middleware\",\"link\":\"/docs/middleware/\"},{\"text\":\"node\",\"link\":\"/docs/node/\"}],\"/docs/android/\":[{\"text\":\"android\",\"link\":\"/docs/android/\",\"items\":[{\"text\":\"Adb.md\",\"link\":\"/docs/android/Adb.md\"}]}],\"/docs/database/\":[{\"text\":\"database\",\"link\":\"/docs/database/\",\"items\":[{\"text\":\"mariadb\",\"link\":\"/docs/database/mariadb/\",\"items\":[{\"text\":\"Grant.md\",\"link\":\"/docs/database/mariadb/Grant.md\"},{\"text\":\"Options.md\",\"link\":\"/docs/database/mariadb/Options.md\"},{\"text\":\"setupReplication.md\",\"link\":\"/docs/database/mariadb/setupReplication.md\"}]},{\"text\":\"oracle\",\"link\":\"/docs/database/oracle/\",\"items\":[{\"text\":\"Isolation.md\",\"link\":\"/docs/database/oracle/Isolation.md\"},{\"text\":\"Pipelined.md\",\"link\":\"/docs/database/oracle/Pipelined.md\"},{\"text\":\"Tuning.md\",\"link\":\"/docs/database/oracle/Tuning.md\"},{\"text\":\"createUser.md\",\"link\":\"/docs/database/oracle/createUser.md\"}]},{\"text\":\"postgresql\",\"link\":\"/docs/database/postgresql/\",\"items\":[{\"text\":\"PLSql_block.md\",\"link\":\"/docs/database/postgresql/PLSql_block.md\"}]},{\"text\":\"redis\",\"link\":\"/docs/database/redis/\",\"items\":[{\"text\":\"Cluster.md\",\"link\":\"/docs/database/redis/Cluster.md\"}]}]}],\"/docs/docker/\":[{\"text\":\"docker\",\"link\":\"/docs/docker/\",\"items\":[{\"text\":\"dockerFile.md\",\"link\":\"/docs/docker/dockerFile.md\"}]}],\"/docs/english/\":[{\"text\":\"english\",\"link\":\"/docs/english/\",\"items\":[{\"text\":\"weather\",\"link\":\"/docs/english/weather/\",\"items\":[{\"text\":\"Weather.md\",\"link\":\"/docs/english/weather/Weather.md\"}]}]}],\"/docs/golang/\":[{\"text\":\"golang\",\"link\":\"/docs/golang/\",\"items\":[{\"text\":\"grammar.md\",\"link\":\"/docs/golang/grammar.md\"}]}],\"/docs/java/\":[{\"text\":\"java\",\"link\":\"/docs/java/\",\"items\":[{\"text\":\"lang\",\"link\":\"/docs/java/lang/\",\"items\":[{\"text\":\"FloatPrecisionLoss.md\",\"link\":\"/docs/java/lang/FloatPrecisionLoss.md\"}]}]}],\"/docs/linux/\":[{\"text\":\"linux\",\"link\":\"/docs/linux/\",\"items\":[{\"text\":\"createSwap.md\",\"link\":\"/docs/linux/createSwap.md\"},{\"text\":\"nginx\",\"link\":\"/docs/linux/nginx/\",\"items\":[{\"text\":\"config.md\",\"link\":\"/docs/linux/nginx/config.md\"}]},{\"text\":\"shell\",\"link\":\"/docs/linux/shell/\",\"items\":[{\"text\":\"deviceOpt.md\",\"link\":\"/docs/linux/shell/deviceOpt.md\"},{\"text\":\"script.md\",\"link\":\"/docs/linux/shell/script.md\"},{\"text\":\"stringOpt.md\",\"link\":\"/docs/linux/shell/stringOpt.md\"}]}]}],\"/docs/middleware/\":[{\"text\":\"middleware\",\"link\":\"/docs/middleware/\",\"items\":[{\"text\":\"kafka\",\"link\":\"/docs/middleware/kafka/\",\"items\":[{\"text\":\"CTL.md\",\"link\":\"/docs/middleware/kafka/CTL.md\"},{\"text\":\"overview.md\",\"link\":\"/docs/middleware/kafka/overview.md\"}]}]}],\"/docs/node/\":[{\"text\":\"node\",\"link\":\"/docs/node/\",\"items\":[{\"text\":\"vite\",\"link\":\"/docs/node/vite/\",\"items\":[{\"text\":\"ViteProject.md\",\"link\":\"/docs/node/vite/ViteProject.md\"}]}]}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>